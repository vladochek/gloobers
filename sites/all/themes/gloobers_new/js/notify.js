!function(a){"use strict";var b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C=[].indexOf||function(a){for(var b=0,c=this.length;b<c;b++)if(b in this&&this[b]===a)return b;return-1};v="notify",u=v+"js",d=v+"!blank",x={t:"top",m:"middle",b:"bottom",l:"left",c:"center",r:"right"},n=["l","c","r"],B=["t","m","b"],r=["t","b","l","r"],s={t:"b",m:null,b:"t",l:"r",c:null,r:"l"},t=function(b){var c;return c=[],a.each(b.split(/\W+/),function(a,b){var d;if(d=b.toLowerCase().charAt(0),x[d])return c.push(d)}),c},A={},e={name:"core",html:'<div class="'+u+'-wrapper">\n  <div class="'+u+'-arrow"></div>\n  <div class="'+u+'-container"></div>\n</div>',css:"."+u+"-corner {\n  position: fixed;\n  margin: 5px;\n  z-index: 1050;\n}\n\n."+u+"-corner ."+u+"-wrapper,\n."+u+"-corner ."+u+"-container {\n  position: relative;\n  display: block;\n  height: inherit;\n  width: inherit;\n  margin: 3px;\n}\n\n."+u+"-wrapper {\n  z-index: 1;\n  position: absolute;\n  display: inline-block;\n  height: 0;\n  width: 0;\n}\n\n."+u+"-container {\n  display: none;\n  z-index: 1;\n  position: absolute;\n}\n\n."+u+"-hidable {\n  cursor: pointer;\n}\n\n[data-notify-text],[data-notify-html] {\n  position: relative;\n}\n\n."+u+"-arrow {\n  position: absolute;\n  z-index: 2;\n  width: 0;\n  height: 0;\n}"},z={"border-radius":["-webkit-","-moz-"]},l=function(a){return A[a]},c=function(b,c){var d,e,f,g;if(!b)throw"Missing Style name";if(!c)throw"Missing Style definition";if(!c.html)throw"Missing Style HTML";return(null!=(g=A[b])?g.cssElem:void 0)&&(window.console&&console.warn(""+v+": overwriting style '"+b+"'"),A[b].cssElem.remove()),c.name=b,A[b]=c,d="",c.classes&&a.each(c.classes,function(b,e){return d+="."+u+"-"+c.name+"-"+b+" {\n",a.each(e,function(b,c){return z[b]&&a.each(z[b],function(a,e){return d+="  "+e+b+": "+c+";\n"}),d+="  "+b+": "+c+";\n"}),d+="}\n"}),c.css&&(d+="/* styles for "+c.name+" */\n"+c.css),d&&(c.cssElem=q(d),c.cssElem.attr("id","notify-"+c.name)),f={},e=a(c.html),j("html",e,f),j("text",e,f),c.fields=f},q=function(b){var c;c=f("style"),c.attr("type","text/css"),a("head").append(c);try{c.html(b)}catch(a){c[0].styleSheet.cssText=b}return c},j=function(b,c,e){var f;return"html"!==b&&(b="text"),f="data-notify-"+b,i(c,"["+f+"]").each(function(){var c;return c=a(this).attr(f),c||(c=d),e[c]=b})},i=function(a,b){return a.is(b)?a:a.find(b)},w={clickToHide:!0,autoHide:!0,autoHideDelay:5e3,arrowShow:!0,arrowSize:5,breakNewLines:!0,elementPosition:"bottom",globalPosition:"top right",style:"bootstrap",className:"error",showAnimation:"slideDown",showDuration:400,hideAnimation:"slideUp",hideDuration:200,gap:5},p=function(b,c){var d;return d=function(){},d.prototype=b,a.extend(!0,new d,c)},g=function(b){return a.extend(w,b)},f=function(b){return a("<"+b+"></"+b+">")},m={},k=function(b){var c;return b.is("[type=radio]")&&(c=b.parents("form:first").find("[type=radio]").filter(function(c,d){return a(d).attr("name")===b.attr("name")}),b=c.first()),b},o=function(a,b,c){var d,e;if("string"==typeof c)c=parseInt(c,10);else if("number"!=typeof c)return;if(!isNaN(c))return d=x[s[b.charAt(0)]],e=b,void 0!==a[d]&&(b=x[d.charAt(0)],c=-c),void 0===a[b]?a[b]=c:a[b]+=c,null},y=function(a,b,c){if("l"===a||"t"===a)return 0;if("c"===a||"m"===a)return c/2-b/2;if("r"===a||"b"===a)return c-b;throw"Invalid alignment"},h=function(a){return h.e=h.e||f("div"),h.e.text(a).html()},b=function(){function b(b,c,d){"string"==typeof d&&(d={className:d}),this.options=p(w,a.isPlainObject(d)?d:{}),this.loadHTML(),this.wrapper=a(e.html),this.options.clickToHide&&this.wrapper.addClass(""+u+"-hidable"),this.wrapper.data(u,this),this.arrow=this.wrapper.find("."+u+"-arrow"),this.container=this.wrapper.find("."+u+"-container"),this.container.append(this.userContainer),b&&b.length&&(this.elementType=b.attr("type"),this.originalElement=b,this.elem=k(b),this.elem.data(u,this),this.elem.before(this.wrapper)),this.container.hide(),this.run(c)}return b.prototype.loadHTML=function(){var b;return b=this.getStyle(),this.userContainer=a(b.html),this.userFields=b.fields},b.prototype.show=function(a,b){var c,d,e,f,g,h=this;if(d=function(){if(a||h.elem||h.destroy(),b)return b()},g=this.container.parent().parents(":hidden").length>0,e=this.container.add(this.arrow),c=[],g&&a)f="show";else if(g&&!a)f="hide";else if(!g&&a)f=this.options.showAnimation,c.push(this.options.showDuration);else{if(g||a)return d();f=this.options.hideAnimation,c.push(this.options.hideDuration)}return c.push(d),e[f].apply(e,c)},b.prototype.setGlobalPosition=function(){var b,c,d,e,g,h,i,j;return j=this.getPosition(),i=j[0],h=j[1],g=x[i],b=x[h],e=i+"|"+h,c=m[e],c||(c=m[e]=f("div"),d={},d[g]=0,"middle"===b?d.top="45%":"center"===b?d.left="45%":d[b]=0,c.css(d).addClass(""+u+"-corner"),a("body").append(c)),c.prepend(this.wrapper)},b.prototype.setElementPosition=function(){var b,c,d,e,f,g,h,i,j,k,l,m,p,q,t,u,v,w,z,A,D,E,F,G,H,I,J,K,L;for(F=this.getPosition(),A=F[0],w=F[1],z=F[2],l=this.elem.position(),i=this.elem.outerHeight(),m=this.elem.outerWidth(),j=this.elem.innerHeight(),k=this.elem.innerWidth(),G=this.wrapper.position(),f=this.container.height(),g=this.container.width(),q=x[A],u=s[A],v=x[u],h={},h[v]="b"===A?i:"r"===A?m:0,o(h,"top",l.top-G.top),o(h,"left",l.left-G.left),L=["top","left"],H=0,J=L.length;H<J;H++)D=L[H],t=parseInt(this.elem.css("margin-"+D),10),t&&o(h,D,t);if(p=Math.max(0,this.options.gap-(this.options.arrowShow?d:0)),o(h,v,p),this.options.arrowShow){for(d=this.options.arrowSize,c=a.extend({},h),b=this.userContainer.css("border-color")||this.userContainer.css("background-color")||"white",I=0,K=r.length;I<K;I++)D=r[I],E=x[D],D!==u&&(e=E===q?b:"transparent",c["border-"+E]=""+d+"px solid "+e);o(h,x[u],d),C.call(r,w)>=0&&o(c,x[w],2*d)}else this.arrow.hide();if(C.call(B,A)>=0?(o(h,"left",y(w,g,m)),c&&o(c,"left",y(w,d,k))):C.call(n,A)>=0&&(o(h,"top",y(w,f,i)),c&&o(c,"top",y(w,d,j))),this.container.is(":visible")&&(h.display="block"),this.container.removeAttr("style").css(h),c)return this.arrow.removeAttr("style").css(c)},b.prototype.getPosition=function(){var a,b,c,d,e,f,g,h;if(b=this.options.position||(this.elem?this.options.elementPosition:this.options.globalPosition),a=t(b),0===a.length&&(a[0]="b"),c=a[0],C.call(r,c)<0)throw"Must be one of ["+r+"]";return(1===a.length||(d=a[0],C.call(B,d)>=0&&(e=a[1],C.call(n,e)<0))||(f=a[0],C.call(n,f)>=0&&(g=a[1],C.call(B,g)<0)))&&(a[1]=(h=a[0],C.call(n,h)>=0?"m":"l")),2===a.length&&(a[2]=a[1]),a},b.prototype.getStyle=function(a){var b;if(a||(a=this.options.style),a||(a="default"),b=A[a],!b)throw"Missing style: "+a;return b},b.prototype.updateClasses=function(){var b,c;return b=["base"],a.isArray(this.options.className)?b=b.concat(this.options.className):this.options.className&&b.push(this.options.className),c=this.getStyle(),b=a.map(b,function(a){return""+u+"-"+c.name+"-"+a}).join(" "),this.userContainer.attr("class",b)},b.prototype.run=function(b,c){var e,f,g,j,k,l=this;if(a.isPlainObject(c)?a.extend(this.options,c):"string"===a.type(c)&&(this.options.className=c),this.container&&!b)return void this.show(!1);if(this.container||b){f={},a.isPlainObject(b)?f=b:f[d]=b;for(g in f)e=f[g],j=this.userFields[g],j&&("text"===j&&(e=h(e),this.options.breakNewLines&&(e=e.replace(/\n/g,"<br/>"))),k=g===d?"":"="+g,i(this.userContainer,"[data-notify-"+j+k+"]").html(e));return this.updateClasses(),this.elem?this.setElementPosition():this.setGlobalPosition(),this.show(!0),this.options.autoHide?(clearTimeout(this.autohideTimer),this.autohideTimer=setTimeout(function(){return l.show(!1)},this.options.autoHideDelay)):void 0}},b.prototype.destroy=function(){return this.wrapper.remove()},b}(),a[v]=function(c,d,e){return c&&c.nodeName||c.jquery?a(c)[v](d,e):(e=d,d=c,new b(null,d,e)),c},a.fn[v]=function(c,d){return a(this).each(function(){var e;return e=k(a(this)).data(u),e?e.run(c,d):new b(a(this),c,d)}),this},a.extend(a[v],{defaults:g,addStyle:c,pluginOptions:w,getStyle:l,insertCSS:q}),a(function(){return q(e.css).attr("id","core-notify"),a(document).on("click","."+u+"-hidable",function(b){return a(this).trigger("notify-hide")}),a(document).on("notify-hide","."+u+"-wrapper",function(b){var c;return null!=(c=a(this).data(u))?c.show(!1):void 0})})}(jQuery);